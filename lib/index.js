(function(ce,q){typeof exports=="object"&&typeof module=="object"?module.exports=q(require("react")):typeof define=="function"&&define.amd?define("router",["react"],q):typeof exports=="object"?exports.router=q(require("react")):ce.router=q(ce.React)})(this,function(xe){return function(){"use strict";var ce={201:function(c,_,m){var P=m(703),v=m.n(P),i=m(414),h=m.n(i),f=h()(v());f.push([c.id,`@keyframes before {
  0% {
    width: 0.6rem;
    box-shadow: 1.2rem -0.6rem #ff3e38, -1.2rem 0.6rem #318ffa;
  }
  35% {
    width: 3rem;
    box-shadow: 0 -0.6rem #ff3e38, 0 0.6rem #318ffa;
  }
  70% {
    width: 0.6rem;
    box-shadow: -1.2rem -0.6rem #ff3e38, 1.2rem 0.6rem #318ffa;
  }
  100% {
    box-shadow: 1.2rem -0.6rem #ff3e38, -1.2rem 0.6rem #318ffa;
  }
}
@keyframes after {
  0% {
    height: 0.6rem;
    box-shadow: 0.6rem 1.2rem #6ce581, -0.6rem -1.2rem #fecb2e;
  }
  35% {
    height: 3rem;
    box-shadow: 0.6rem 0 #6ce581, -0.6rem 0 #fecb2e;
  }
  70% {
    height: 0.6rem;
    box-shadow: 0.6rem -1.2rem #6ce581, -0.6rem 1.2rem #fecb2e;
  }
  100% {
    box-shadow: 0.6rem 1.2rem #6ce581, -0.6rem -1.2rem #fecb2e;
  }
}
.spinner {
  position: relative;
  height: 100%;
  min-height: 100px;
  display: block;
  overflow: hidden;
  pointer-events: auto;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  z-index: 999;
  background-color: hsla(0, 0%, 72%, 0.24);
}
.spinner.absolute {
  position: absolute;
  min-height: auto;
}
.spinner.global {
  position: fixed;
  width: 100vw;
  height: 100vh;
}
.spinner .spinning {
  width: 3rem;
  height: 3rem;
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%) rotate(165deg);
  margin: 0;
}
.spinner .spinning::before,
.spinner .spinning::after {
  content: "";
  position: absolute;
  top: 50%;
  left: 50%;
  display: block;
  width: 0.6rem;
  height: 0.6rem;
  border-radius: 0.3rem;
  transform: translate(-50%, -50%);
}
.spinner .spinning::before {
  animation: before 1.5s infinite;
}
.spinner .spinning::after {
  animation: after 1.5s infinite;
}
`,""]),f.locals={},_.Z=f},982:function(c,_,m){var P=m(703),v=m.n(P),i=m(414),h=m.n(i),f=h()(v());f.push([c.id,`.Iuy_e {
  text-decoration: none;
  cursor: pointer;
  color: var(--linkColor);
  background-color: transparent;
  font-weight: 500;
  transition: color 0.3s;
}
.Iuy_e:active, .Iuy_e.D3oJg {
  color: var(--linkActiveColor, #40a9ff);
}
.Iuy_e:hover {
  color: var(--linkHoverColor, #1890ff);
}
.Iuy_e[disabled] {
  cursor: not-allowed;
  opacity: 0.7;
}
.Iuy_e[disabled]:active, .Iuy_e[disabled].D3oJg, .Iuy_e[disabled]:hover {
  color: var(--linkColor);
}
`,""]),f.locals={link:"Iuy_e",active:"D3oJg"},_.Z=f},414:function(c){c.exports=function(_){var m=[];return m.toString=function(){return this.map(function(v){var i="",h=typeof v[5]!="undefined";return v[4]&&(i+="@supports (".concat(v[4],") {")),v[2]&&(i+="@media ".concat(v[2]," {")),h&&(i+="@layer".concat(v[5].length>0?" ".concat(v[5]):""," {")),i+=_(v),h&&(i+="}"),v[2]&&(i+="}"),v[4]&&(i+="}"),i}).join("")},m.i=function(v,i,h,f,D){typeof v=="string"&&(v=[[null,v,void 0]]);var A={};if(h)for(var x=0;x<this.length;x++){var T=this[x][0];T!=null&&(A[T]=!0)}for(var M=0;M<v.length;M++){var w=[].concat(v[M]);h&&A[w[0]]||(typeof D!="undefined"&&(typeof w[5]=="undefined"||(w[1]="@layer".concat(w[5].length>0?" ".concat(w[5]):""," {").concat(w[1],"}")),w[5]=D),i&&(w[2]&&(w[1]="@media ".concat(w[2]," {").concat(w[1],"}")),w[2]=i),f&&(w[4]?(w[1]="@supports (".concat(w[4],") {").concat(w[1],"}"),w[4]=f):w[4]="".concat(f)),m.push(w))}},m}},703:function(c){c.exports=function(_){return _[1]}},53:function(c,_,m){var P;var v=m(899),i=Symbol.for("react.element"),h=Symbol.for("react.fragment"),f=Object.prototype.hasOwnProperty,D=v.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,A={key:!0,ref:!0,__self:!0,__source:!0};function x(T,M,w){var F,$={},W=null,X=null;w!==void 0&&(W=""+w),M.key!==void 0&&(W=""+M.key),M.ref!==void 0&&(X=M.ref);for(F in M)f.call(M,F)&&!A.hasOwnProperty(F)&&($[F]=M[F]);if(T&&T.defaultProps)for(F in M=T.defaultProps,M)$[F]===void 0&&($[F]=M[F]);return{$$typeof:i,type:T,key:W,ref:X,props:$,_owner:D.current}}P=h,_.jsx=x,_.jsxs=x},458:function(c,_,m){c.exports=m(53)},748:function(c){var _=[];function m(i){for(var h=-1,f=0;f<_.length;f++)if(_[f].identifier===i){h=f;break}return h}function P(i,h){for(var f={},D=[],A=0;A<i.length;A++){var x=i[A],T=h.base?x[0]+h.base:x[0],M=f[T]||0,w="".concat(T," ").concat(M);f[T]=M+1;var F=m(w),$={css:x[1],media:x[2],sourceMap:x[3],supports:x[4],layer:x[5]};if(F!==-1)_[F].references++,_[F].updater($);else{var W=v($,h);h.byIndex=A,_.splice(A,0,{identifier:w,updater:W,references:1})}D.push(w)}return D}function v(i,h){var f=h.domAPI(h);f.update(i);var D=function(x){if(x){if(x.css===i.css&&x.media===i.media&&x.sourceMap===i.sourceMap&&x.supports===i.supports&&x.layer===i.layer)return;f.update(i=x)}else f.remove()};return D}c.exports=function(i,h){h=h||{},i=i||[];var f=P(i,h);return function(A){A=A||[];for(var x=0;x<f.length;x++){var T=f[x],M=m(T);_[M].references--}for(var w=P(A,h),F=0;F<f.length;F++){var $=f[F],W=m($);_[W].references===0&&(_[W].updater(),_.splice(W,1))}f=w}}},736:function(c){var _={};function m(v){if(typeof _[v]=="undefined"){var i=document.querySelector(v);if(window.HTMLIFrameElement&&i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(h){i=null}_[v]=i}return _[v]}function P(v,i){var h=m(v);if(!h)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");h.appendChild(i)}c.exports=P},706:function(c){function _(m){var P=document.createElement("style");return m.setAttributes(P,m.attributes),m.insert(P,m.options),P}c.exports=_},567:function(c,_,m){function P(v){var i=m.nc;i&&v.setAttribute("nonce",i)}c.exports=P},306:function(c){function _(v,i,h){var f="";h.supports&&(f+="@supports (".concat(h.supports,") {")),h.media&&(f+="@media ".concat(h.media," {"));var D=typeof h.layer!="undefined";D&&(f+="@layer".concat(h.layer.length>0?" ".concat(h.layer):""," {")),f+=h.css,D&&(f+="}"),h.media&&(f+="}"),h.supports&&(f+="}");var A=h.sourceMap;A&&typeof btoa!="undefined"&&(f+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(A))))," */")),i.styleTagTransform(f,v,i.options)}function m(v){if(v.parentNode===null)return!1;v.parentNode.removeChild(v)}function P(v){var i=v.insertStyleElement(v);return{update:function(f){_(i,v,f)},remove:function(){m(i)}}}c.exports=P},62:function(c){function _(m,P){if(P.styleSheet)P.styleSheet.cssText=m;else{for(;P.firstChild;)P.removeChild(P.firstChild);P.appendChild(document.createTextNode(m))}}c.exports=_},899:function(c){c.exports=xe}},q={};function E(c){var _=q[c];if(_!==void 0)return _.exports;var m=q[c]={id:c,exports:{}};return ce[c](m,m.exports,E),m.exports}(function(){E.n=function(c){var _=c&&c.__esModule?function(){return c.default}:function(){return c};return E.d(_,{a:_}),_}})(),function(){E.d=function(c,_){for(var m in _)E.o(_,m)&&!E.o(c,m)&&Object.defineProperty(c,m,{enumerable:!0,get:_[m]})}}(),function(){E.o=function(c,_){return Object.prototype.hasOwnProperty.call(c,_)}}(),function(){E.r=function(c){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(c,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(c,"__esModule",{value:!0})}}(),function(){E.nc=void 0}();var de={};return function(){E.r(de),E.d(de,{Link:function(){return Nt},useRoute:function(){return Ut},useRouter:function(){return Bt}});var c=E(899),_=E.n(c),P=e=>Object.prototype.toString.call(e).slice(8,-1).toLowerCase(),i=e=>P(e)==="array",f=e=>P(e)==="object",A=e=>(e==null?void 0:e.$$typeof)&&typeof e.$$typeof=="symbol"&&e.$$typeof.description==="react.element",T=e=>e==null?void 0:e.__v_isVNode,w=(e,t)=>Object.prototype.hasOwnProperty.call(e!=null?e:{},t);const F=e=>{if(!i(e)&&!f(e))return e;const t=i(e)?[]:{};for(const s in e)if(w(e,s)){const r=e[s];t[s]=A(r)||T(r)||typeof r!="object"?r:r!==e?F(r):"cyclic"}else Object.setPrototypeOf(t,{[s]:e[s]});return t};var $=F,X=e=>P(e)==="function",G=e=>P(e)==="promise"||f(e)&&X(e.then),Oe=(e,t=12e4,s="\u8BF7\u6C42\u8D85\u65F6\uFF01")=>{if(!G(e))return{};let r=null,n=null;return{promiseFn:new Promise((l,p)=>{r=(o="canceled")=>{clearTimeout(n),l({canceled:!0,errMsg:o})},t&&(t=typeof t!="number"?12e4:t,n=setTimeout(()=>r(s),t)),e.then(o=>{clearTimeout(n),l({result:o,errMsg:!1})}).catch(o=>{clearTimeout(n),p(o)})}),cancelFn:r}},ke=e=>e?e.charAt(e.length-1)==="/"?e.slice(0,-1):e:"",L=E(458),Ke=(e,t)=>(0,L.jsx)("div",{dangerouslySetInnerHTML:{__html:e},...t}),ae=e=>{const{error:t={},info:s=""}=e||{},{message:r,stack:n,errMsg:u}=t;let l=u||n||t.toString();l=`${l}
${s}`.replace(/\r|\n|\r\n/g,"<br/>"),l=l.replace(/\t/g,"&nbsp;&nbsp;&nbsp;&nbsp;"),l=l.replace(/\s/g,"&nbsp;");const p=r==null?void 0:r.slice(0,120).split(". ").slice(0,2).join(". ");return(0,L.jsxs)("div",{style:{padding:"15px 20px",backgroundColor:"#fff",wordWrap:"break-word"},children:[Ke(l,{style:{color:"red"}}),p&&(0,L.jsxs)("a",{style:{display:"inline-block",padding:"15px",color:"#00b4cf"},href:`https://stackoverflow.com/search?q=${p}`,target:"_blank",children:[" ","--> \u53BB\u7F51\u4E0A\u67E5\u627E\u9519\u8BEF\u539F\u56E0\uFF1F"]})]})},Q=()=>{const e={};return{on:(n,u)=>{e[n]||(e[n]=[]),e[n].indexOf(u)===-1&&e[n].push(u)},emit:(n,u)=>{e[n]&&e[n].map(l=>l(u))},off:(n,u=null)=>{if(e[n]){if(typeof u!="function")return e[n]=[];const l=e[n].indexOf(u);l>-1&&e[n].splice(l,1)}}}};const Ae=e=>{const t={};for(let s in e)w(e,s)||(t[s]=e[s]);return t};var et=(e,t)=>{if(!f(e))return t;if(!f(t))return e;const s={...Ae(e),...Ae(t)},r={...e,...t};return Object.keys(s).map(n=>{Object.setPrototypeOf(r,{[n]:s[n]})}),r},me=()=>{const{on:e,emit:t,off:s}=Q(),r={};return{getState:o=>$(r[o]),setState:(o,a=!1)=>{if(typeof o=="function"&&(o=o($(r))),!f(o))throw TypeError("\u5FC5\u987B\u4F20\u5165object\u5BF9\u8C61\uFF01");const b=$(o);Object.keys(b).map(S=>{const R=r[S],g=b[S],C=f(g)&&f(R)?et(R,g):g;!a&&t(S,C),r[S]=C})},subscribe:(o,a)=>(e(o,a),()=>s(o,a)),unsubscribe:s,clean:o=>{typeof o=="string"?r[o]=void 0:Array.isArray(o)?o.map(a=>r[a]=void 0):Object.keys(r).map(a=>r[a]=void 0)}}},Me=e=>(t,s)=>{const[r,n]=(0,c.useState)(()=>{const o=e==null?void 0:e.getState(t);return o!==void 0?o:(s!==void 0&&(e==null||e.setState({[t]:s},!0)),s)}),u=(0,c.useCallback)(o=>e==null?void 0:e.setState({[t]:typeof o=="function"?o(e==null?void 0:e.getState(t)):o}),[]),l=(0,c.useCallback)(o=>e==null?void 0:e.subscribe(t,o),[]),p=(0,c.useCallback)((o=o)=>e==null?void 0:e.clean(o),[]);return(0,c.useEffect)(()=>{e==null||e.subscribe(t,o=>n(o))},[]),[r,u,l,p]};const tt=me(),en=Me(tt),tn=Q(),nn=Q(),rn="push-emitter",sn="replace-emitter",on="useRoute-emitter",he={delay:8e3,timeoutMsg:"\u8BF7\u6C42\u8D85\u65F6\uFF01",cancelMsg:"\u8BF7\u6C42\u5DF2\u53D6\u6D88\uFF01"},ve="/404",nt={getState:()=>history.state,go:e=>history.go(e),forward:()=>history.forward(),back:()=>history.back()},Fe=(e,t,s,r,n=[])=>{const u=o=>{for(let a=0,b=o.length;a<b;a++){const S=o[a],R=S[r].split("?")[0];if(new RegExp("^"+R.replace(/:[^/]+/g,"[^/]+")+"$").test(t))return S;if(i(S[s])){const C=u(S[s]);if(C)return C}}},l=u(e);if(!l)return ve;const{redirect:p}=l;return p?n.includes(p)?n:(n.push(p),Fe(e,p.split("?")[0],s,r,n)):n[n.length-1]},rt=(e,t,s,r,n)=>{if(!i(e))return null;const u=b=>{const S=b.split("/"),R=t.split("/"),g={};return S.map((C,k)=>C.indexOf(":")===0&&(g[C.slice(1)]=R[k])),g},l=(b,S)=>{const R=[],g=S.split("/:")[0];for(let C=0,k=b.length;C<k;C++){const y=b[C];if(y[n]===g){y.active=!0;const{name:d,title:O,icon:I,params:B}=y;R.push({name:d,title:O,icon:I,params:B,[n]:g})}else if(S.indexOf(`${y[n]}/`)===0){y.active=!0;const d=u(y[n]),O=Object.keys(d).map(H=>d[H]).join("/"),{name:I,title:B,icon:j}=y,N=O?`${g}/${O}`:y[n];R.push({name:I,title:B,icon:j,[n]:N,params:{...y.params,...d}})}else if(y[n]===S){y.active=!0;const d=u(y[n]),{[r]:O,...I}=y;R.push({...I,[n]:t,params:{...I.params,...s,...d}})}}return R},p=(b,S)=>{for(let R=0,g=b.length;R<g;R++){const C=b[R];if(S.indexOf(`${C[n]}/`)===0){C.active=!0;return}}},o=b=>{for(let S=0,R=b.length;S<R;S++){const g=b[S],C=(g[n]||"").split("?")[0];if(C===t){g.hideMenu&&p(b,g.parentPath||C),g.active=!0;const{[r]:y,...d}=g;return[{...d,params:{...d.params,...s}}]}if(new RegExp("^"+C.replace(/:[^/]+/g,"[^/]+")+"$").test(t))return l(b,C);if(i(g[r])){const y=o(g[r]);if(y){g.active=!0,g.open=!0;const{[r]:d,...O}=g;return[O,...y]}}}},a=o(e)||[];return{result:e,current:a}},Ie=(e,t,s)=>e.filter(r=>r.hideMenu||r[s].indexOf("/:")>-1?!1:(i(r[t])&&(r[t]=Ie(r[t],t,s)),!0));var st=(e,t,s,r="children",n="path")=>{const u=Fe(e,t,r,n);if(u)return{redirect:u};const{result:l,current:p}=rt(e,t,s,r,n),o=Ie(l,r,n);return{current:p,menu:o}},De=e=>/^https?:\/\/[^\s/?.#]+\.[^\s]+/.test(e);const ge=(e,t)=>{const s=["#/","/"],r=s[!!t-0];if(!e||s.includes(e))return r;const n=e.charAt(e.length-1)==="/"?e.slice(0,-1):e;return t||n.indexOf("#/")>-1?n:`#${n}`},ue=(e,t,s,r=!1)=>{const n=ge(t,s);return r?n:s?e&&n==="/"?e:`${e}${n}`:e?`${e}/${n}`:n},ot=(e,t,s,r,n,u)=>{if(!i(e))return e;const l=(p,o="")=>p.filter(a=>!a.denied).map(a=>{if(!u&&!a.exact&&!De(a[r])){(!a[r]||a[r]==="javascript:;")&&(a[r]="");const b=a[r].charAt(0)==="/"&&o.charAt(o.length-1)==="/"?a[r].slice(1):a[r].charAt(0)!=="/"&&o.charAt(o.length-1)!=="/"?`/${a[r]}`:a[r];a[r]=o?o+b:ue(n,b,t)}return a.redirect&&(a.redirect=ue(n,a.redirect,t)),i(a[s])&&(a[s]=l(a[s],a[r]),!a.redirect&&a[s].length&&(a.redirect=a[s][0][r])),a});return l(e)};var Te=e=>{if(!f(e))return"";const t=[];return Object.keys(e).map((s,r)=>{const n=r>0?"&":"?";t.push(`${n}${s}=${e[s]}`)}),t.join("")},be=(e="")=>{const[t,s]=e.split("?");if(s){const r={};return s.split("&").map(u=>{const[l,p]=u.split("=");r[l]=p}),{path:t,params:r}}return{path:t}};const ct=()=>{document.documentElement.scrollTop?document.documentElement.scrollTop=0:document.body.scrollTop&&(document.body.scrollTop=0)},at=(e,t)=>{for(let s=e.length-1,r;r=e[s--];){const{title:n,name:u}=r;if(typeof n=="string"&&n.length)return document.title=n;if((n==null||n===!0)&&u)return document.title=t?`${u}-${t}`:u;if(t)return document.title=t}},ut=e=>{const{pathname:t,search:s,hash:r}=location;if(e){const o=ge(t,e),a=decodeURIComponent(`${o}${s}`),{params:b}=be(a);return{path:a,params:b}}const n=decodeURIComponent(ge(r,e)),{params:u}=be(n),l=ke(t);return{path:l?`${l}/${n}`:n,params:u}},ye=(e,t,s)=>{typeof e=="function"&&e({...t,stay:new Date-s})},it=(e,t,s,r)=>{let n,u,l;if(typeof e=="string")n=e;else if(f(e))n=e.path,u=e.params,l=e.query;else return;!n||n==="."||n==="./"?n=r:n.indexOf("./")===0?n=`${r.split("?")[0]}${n.replace("./","/")}`:n.indexOf("../")===0&&(n=`${r.split("?")[0].split("/").slice(0,-1).join("/")}${n.replace("../","/")}`),n=ue(t,n,s,e==null?void 0:e.exact);const p=be(n);n=p.path;const o={...p.params,...l},a=Te(o);return n=`${n}${a}`,u={...u,...o},{path:n,params:u}},$e=(e,t)=>{const s=e.split(t);return s.length>1?["","/"].includes(s[1].slice(0,1)):!1},lt=Q();var Be=e=>{const{on:t,emit:s,off:r}=lt;return{on:n=>t(e,n),emit:n=>s(e,n),off:n=>r(e,n)}},ft=e=>(t,s)=>{const{getState:r,setState:n,subscribe:u,unsubscribe:l,clean:p}=e;return s!==void 0&&n({[t]:s},!0),{getState:()=>r(t),setState:(o,a)=>n({[t]:o},a),subscribe:o=>u(t,o),unsubscribe:()=>l(t),clean:()=>p(t)}};const pt=me();var _t=ft(pt);const Ce=Be("push-emitter"),Le=Be("replace-emitter"),K=_t("route-store"),dt=Q(),je=me(),mt=Me(je);var ht=()=>![typeof window,typeof document].includes("undefined"),vt=e=>{if(!ht())return;const t=document.createElement("div");return t.innerHTML=e,t.children[0]},gt=Object.defineProperty,bt=(e,t,s)=>t in e?gt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,yt=(e,t,s)=>(bt(e,typeof t!="symbol"?t+"":t,s),s);class Ct extends _().Component{constructor(){super(...arguments),yt(this,"state",{error:null})}static getDerivedStateFromError(t){return{error:t}}componentDidCatch(t,s){const{errorReport:r}=this.props;typeof r=="function"&&r({error:t,info:s.componentStack})}render(){const{error:t}=this.state,{fallback:s,children:r}=this.props;return t?s(t):r}}var St=({children:e,report:t})=>{var s;const r=(0,c.useRef)();return(s=r.current)!=null&&s.state&&(r.current.state.error=null),(0,L.jsx)(Ct,{ref:r,fallback:(n,u)=>ae({error:n,info:u}),errorReport:t,children:e})},wt=E(748),Ne=E.n(wt),Pt=E(306),Ue=E.n(Pt),Rt=E(736),We=E.n(Rt),Et=E(567),He=E.n(Et),xt=E(706),Ze=E.n(xt),Ot=E(62),qe=E.n(Ot),ie=E(201),z={};z.styleTagTransform=qe(),z.setAttributes=He(),z.insert=We().bind(null,"head"),z.domAPI=Ue(),z.insertStyleElement=Ze();var vn=Ne()(ie.Z,z),gn=ie.Z&&ie.Z.locals?ie.Z.locals:void 0,kt=({global:e,absolute:t})=>(0,L.jsx)("div",{className:`spinner${e?" global":""}${t?" absolute":""}`,children:(0,L.jsx)("figure",{className:"spinning"})}),At=()=>{const e=(0,c.useRef)([]);return(0,c.useEffect)(()=>()=>{e.current.map(s=>s.cancelFn()),e.current=[]},[]),{cancelablePromise:(0,c.useCallback)((s,r=!0)=>{const n=Oe(s,r);return e.current.indexOf(n)===-1&&e.current.push(n),n.promiseFn},[])}},Je=(e={})=>{const{cancelablePromise:t}=At(),[s,r]=(0,c.useState)(e),n=(0,c.useRef)({}),u=(0,c.useRef)({}),l=(0,c.useCallback)((o=null)=>{Array.isArray(o)&&o.length?o.map(a=>n.current[a]=e[a]):n.current=e},[]),p=(0,c.useCallback)((o,a,b=!1)=>{const S=Object.keys(o),R=JSON.stringify(S.sort());if(!u.current[R]){u.current[R]=!0,b&&l(Array.isArray(b)?b:S),S.map(g=>{n.current[g]||(n.current[g]={}),n.current[g].pending=!0}),r({...n.current});for(let g=0,C=S.length;g<C;g++){const k=S[g];t(o[k]).then(y=>{let{result:d,errMsg:O}=y;g===C-1&&(u.current[R]=!1),typeof a=="function"&&(d=a(d)||d),n.current[k]={...d,pending:!1},O===!1&&r({...n.current})}).catch(y=>{throw g===C-1&&(u.current[R]=!1),n.current[k]={error:y,pending:!1},r({...n.current}),y})}}},[]);return[s,p,l]};const le=e=>Object.keys(e).length;var Mt=e=>{const{Comp:t,restResolve:s,loadPromise:r,params:n,children:u}=e,[l,p]=Je(),[o,a]=Je();return(0,c.useEffect)(()=>{le(s)&&p(s),le(r)&&a(r)},[s,r]),(0,c.useEffect)(()=>{const b=le(l);b&&b===le(s)&&n.store.setState(l)},[l]),(0,L.jsx)(t,{...n,...l,...o,children:u})};const Ft=e=>e===!1?null:A(e)?e:X(e)?(0,L.jsx)(e,{}):(0,L.jsx)(kt,{}),It=({Loading:e,ErrorBoundary:t,loadedComp:s})=>{const r=(0,L.jsx)(c.Suspense,{fallback:Ft(e),children:s});return t===!1?r:X(t)?(0,L.jsx)(t,{children:r}):(0,L.jsx)(St,{children:r})};var Ve=({Comp:e,routerProps:t,children:s})=>{const{params:r,...n}=t,{loading:u,errorBoundary:l,...p}=r,o=(0,L.jsx)(Mt,{Comp:e,...n,params:p,children:s});return It({Loading:u,ErrorBoundary:l,loadedComp:o})};const Se={},we=(e,t,s,r)=>G(s)?s.then(n=>{var u;return Ve({Comp:e,routerProps:t,children:(u=n.default)!=null?u:n})}):Ve({Comp:e,routerProps:t,children:s}),Dt=(e,t,s)=>{const r={},n={};return f(e)?(Object.keys(e).map(u=>{const l=t.getState(u);l==null?n[u]=e[u](s):r[u]=l}),{cachedResolve:r,restResolve:n}):{cachedResolve:r,restResolve:n}},Tt=(e,t)=>{if(!f(e))return{};const s={};return Object.keys(e).map(r=>s[r]=e[r](t)),s};var $t=e=>{const{current:t,menu:s,...r}=e,n=t.map(p=>{const{component:o,resolve:a,loadData:b,loading:S,errorBoundary:R,icon:g,...C}=p;return C}),u=[...t].filter(p=>p.component),l=(p=0)=>{if(!u.length)return null;const o=u.shift(),{component:a,resolve:b,loadData:S,icon:R,key:g,...C}=o;if(typeof a=="function"||G(a)){const k=C.path;let y=Se[k];const{cachedResolve:d,restResolve:O}=Dt(b,r.store,C),B={loadPromise:Tt(S,C),restResolve:O,params:{current:n,...r,...C,...d}},j=l(p+1);if(y)return we(y,B,j,k);try{y=a(),y=A(y)?a:y}catch(N){y=a}return G(y)?y.then(N=>{var H;return y=(H=N.default)!=null?H:N,Se[k]=y,we(y,B,j,k)}):(Se[k]=y,we(y,B,j,k))}return typeof a=="string"?vt(a):a};return l()},Bt=e=>{const[t,s]=(0,c.useState)(e),[r,n]=(0,c.useState)(),[u,l]=(0,c.useState)(),p=(0,c.useRef)(),o=(0,c.useRef)(),a=(0,c.useRef)(),b=(0,c.useRef)(),S=()=>{typeof p.current=="function"&&(p.current({cancel:he.cancelMsg}),p.current=null)},R=(0,c.useCallback)(d=>{typeof d=="function"?s(O=>({...O,...d(O)})):f(d)&&s(O=>({...O,...d}))},[]),g=(d,O="pushState")=>{const{basepath:I,browserRouter:B}=b.current,j=a.current,{path:N,params:H}=it(d,I,B,j);if(N===j)return;y({inputPath:N,inputParams:H},()=>history[O](d==null?void 0:d.state,"",N))},C=(0,c.useCallback)(d=>g(d),[]),k=(0,c.useCallback)(d=>g(d,"replaceState"),[]),y=(0,c.useCallback)(({inputPath:d="",inputParams:O={}},I)=>{const B=+new Date,{browserRouter:j,childKey:N,idKey:H,title:ee,routers:te,beforeRender:ne,afterRender:re,basepath:se,allowedNotFound:Z,...Wt}=b.current;if(!d){const{path:U,params:J}=ut(j);d=U,O={...O,...J}}new Promise((U,J)=>{te!=null&&te.length||J("\u8DEF\u7531\u4E3A\u7A7A\uFF01"),d!==a.current&&typeof ne=="function"?ne({path:d,params:O,prevPath:a.current},U,J):U()}).then(U=>{var J,Xe;if(U===!1)return;const ze=U==null?void 0:U.path;if(ze&&ue(se,ze,j)!==d){k(U);return}o.current=(J=o.current)!=null?J:d;const{redirect:V,current:oe,menu:Ht}=st($(te),d.split("?")[0],O,N,H);if(V){if(Z&&V===ve&&(typeof Z=="boolean"||typeof Z=="string"&&$e(o.current,Z)||i(Z)&&Z.find(Ee=>$e(o.current,Ee))))return;if(i(V)){console.error(`\u522B\u95F9\uFF0C[${[d,...V].join(" -> ")}] \u91CD\u5B9A\u5411\u6B7B\u5FAA\u73AF\uFF01\uFF01\uFF01`);return}return V===ve?k({path:V}):C({path:V,exact:!0})}I==null||I(),(d==null?void 0:d.split("?")[0])!==((Xe=a.current)==null?void 0:Xe.split("?")[0])&&ct(),at(oe,ee);const Ye={eventBus:dt,store:je,useStore:mt,...Wt,updateRouter:R,emitRouter:K.subscribe,router:{push:C,replace:k},current:oe,menu:Ht,inputPath:o.current,prevPath:a.current,basepath:se,title:ee,history:nt};K.setState({...Ye,browserRouter:j});const Re=$t(Ye);if(a.current=d,o.current=null,S(),G(Re)){const{promiseFn:Ge,cancelFn:Ee}=Oe(Re,{delay:he.delay,msg:{timeout:he.timeoutMsg}});return p.current=Ee,l(!0),Ge.then(pe=>{p.current=null;const{result:Zt,errMsg:_e}=pe,Qe=_e===!1?Zt:_e!=null&&_e.timeout?ae({error:{errMsg:`${d} ${_e.timeout}`}}):null;Qe&&(l(!1),ye(re,oe.slice(-1)[0],B),n(Qe))}).catch(pe=>{throw p.current=null,l(!1),ye(re,oe.slice(-1)[0],B),n(ae({error:pe})),pe})}ye(re,oe.slice(-1)[0],B),n(Re)}).catch(U=>{throw n(ae({error:U})),U})},[]);return(0,c.useEffect)(()=>{const{childKey:d="children",idKey:O="path",browserRouter:I=!1,routers:B=[],basepath:j="",exact:N=!1,inputPath:H="",inputParams:ee={},...te}=t,ne=ke(j),re=ot($(B),I,d,O,ne,N);b.current={...te,childKey:d,idKey:O,browserRouter:I,routers:re,basepath:ne};const se=I?"popstate":"hashchange",Z=()=>y({});return y({inputPath:H,inputParams:ee}),Ce.on(C),Le.on(k),window.addEventListener(se,Z,!1),()=>{S(),Ce.off(C),Le.off(k),window.removeEventListener(se,Z,!1)}},[t]),{updateRouter:R,output:r,loading:u}},Lt=e=>{const{to:t,onClick:s,preventDefault:r,stopPropagation:n=!0,exact:u=!0,target:l,...p}=e,o=()=>{const b=typeof t=="string"?{exact:u,path:t}:{exact:u,...t};Ce.emit(b)};return b=>{var S;if(b.preventDefault(),n&&b.stopPropagation(),!(p!=null&&p.disabled)){if(!r){if(l){const{browserRouter:R}=K.getState(),g=typeof t=="string"?t:(S=t==null?void 0:t.path)!=null?S:"",C=Te(t==null?void 0:t.query),k=R||g.indexOf("#/")>-1||De(g);window==null||window.open(`${k?"":"#"}${g}${C}`,l);return}o()}typeof s=="function"&&s()}}},fe=E(982),Y={};Y.styleTagTransform=qe(),Y.setAttributes=He(),Y.insert=We().bind(null,"head"),Y.domAPI=Ue(),Y.insertStyleElement=Ze();var xn=Ne()(fe.Z,Y),Pe=fe.Z&&fe.Z.locals?fe.Z.locals:void 0;const jt=e=>{if(!e)return Pe.link;const t=e.trim().split(" ").filter(Boolean),r=t.find(n=>n==="active")?[Pe.active]:[];return[Pe.link,...r,...t].join(" ")};var Nt=e=>{const{to:t,onClick:s,preventDefault:r,stopPropagation:n,exact:u,target:l,className:p,...o}=e;return(0,L.jsx)("span",{onClick:Lt(e),className:jt(p),...o})},Ut=()=>{const[e,t]=(0,c.useState)(K.getState());return(0,c.useEffect)(()=>K.subscribe(s=>t(s)),[]),e}}(),de}()});

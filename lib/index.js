(function(ce,q){typeof exports=="object"&&typeof module=="object"?module.exports=q(require("react")):typeof define=="function"&&define.amd?define("router",["react"],q):typeof exports=="object"?exports.router=q(require("react")):ce.router=q(ce.React)})(this,function(Ae){return function(){"use strict";var ce={990:function(c,d,m){var E=m(601),v=m.n(E),i=m(609),h=m.n(i),f=h()(v());f.push([c.id,`@keyframes before {
  0% {
    width: 0.6rem;
    box-shadow: 1.2rem -0.6rem #ff3e38, -1.2rem 0.6rem #318ffa;
  }
  35% {
    width: 3rem;
    box-shadow: 0 -0.6rem #ff3e38, 0 0.6rem #318ffa;
  }
  70% {
    width: 0.6rem;
    box-shadow: -1.2rem -0.6rem #ff3e38, 1.2rem 0.6rem #318ffa;
  }
  100% {
    box-shadow: 1.2rem -0.6rem #ff3e38, -1.2rem 0.6rem #318ffa;
  }
}
@keyframes after {
  0% {
    height: 0.6rem;
    box-shadow: 0.6rem 1.2rem #6ce581, -0.6rem -1.2rem #fecb2e;
  }
  35% {
    height: 3rem;
    box-shadow: 0.6rem 0 #6ce581, -0.6rem 0 #fecb2e;
  }
  70% {
    height: 0.6rem;
    box-shadow: 0.6rem -1.2rem #6ce581, -0.6rem 1.2rem #fecb2e;
  }
  100% {
    box-shadow: 0.6rem 1.2rem #6ce581, -0.6rem -1.2rem #fecb2e;
  }
}
.spinner {
  position: relative;
  height: 100%;
  min-height: 100px;
  display: block;
  overflow: hidden;
  pointer-events: auto;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  z-index: 999;
  background-color: hsla(0, 0%, 72%, 0.24);
}
.spinner.absolute {
  position: absolute;
  min-height: auto;
}
.spinner.global {
  position: fixed;
  width: 100vw;
  height: 100vh;
}
.spinner .spinning {
  width: 3rem;
  height: 3rem;
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%) rotate(165deg);
  margin: 0;
}
.spinner .spinning::before,
.spinner .spinning::after {
  content: "";
  position: absolute;
  top: 50%;
  left: 50%;
  display: block;
  width: 0.6rem;
  height: 0.6rem;
  border-radius: 0.3rem;
  transform: translate(-50%, -50%);
}
.spinner .spinning::before {
  animation: before 1.5s infinite;
}
.spinner .spinning::after {
  animation: after 1.5s infinite;
}
`,""]),f.locals={},d.Z=f},267:function(c,d,m){var E=m(601),v=m.n(E),i=m(609),h=m.n(i),f=h()(v());f.push([c.id,`.Iuy_e {
  text-decoration: none;
  cursor: pointer;
  color: var(--linkColor);
  background-color: transparent;
  font-weight: 500;
  transition: color 0.3s;
}
.Iuy_e:active, .Iuy_e.D3oJg {
  color: var(--linkActiveColor, #42a5f5);
}
.Iuy_e:hover {
  color: var(--linkHoverColor, #2196f3);
}
.Iuy_e[disabled] {
  cursor: not-allowed;
  opacity: 0.7;
}
.Iuy_e[disabled]:active, .Iuy_e[disabled].D3oJg, .Iuy_e[disabled]:hover {
  color: var(--linkColor);
}
`,""]),f.locals={link:"Iuy_e",active:"D3oJg"},d.Z=f},609:function(c){c.exports=function(d){var m=[];return m.toString=function(){return this.map(function(v){var i="",h=typeof v[5]!="undefined";return v[4]&&(i+="@supports (".concat(v[4],") {")),v[2]&&(i+="@media ".concat(v[2]," {")),h&&(i+="@layer".concat(v[5].length>0?" ".concat(v[5]):""," {")),i+=d(v),h&&(i+="}"),v[2]&&(i+="}"),v[4]&&(i+="}"),i}).join("")},m.i=function(v,i,h,f,D){typeof v=="string"&&(v=[[null,v,void 0]]);var k={};if(h)for(var w=0;w<this.length;w++){var T=this[w][0];T!=null&&(k[T]=!0)}for(var M=0;M<v.length;M++){var R=[].concat(v[M]);h&&k[R[0]]||(typeof D!="undefined"&&(typeof R[5]=="undefined"||(R[1]="@layer".concat(R[5].length>0?" ".concat(R[5]):""," {").concat(R[1],"}")),R[5]=D),i&&(R[2]&&(R[1]="@media ".concat(R[2]," {").concat(R[1],"}")),R[2]=i),f&&(R[4]?(R[1]="@supports (".concat(R[4],") {").concat(R[1],"}"),R[4]=f):R[4]="".concat(f)),m.push(R))}},m}},601:function(c){c.exports=function(d){return d[1]}},837:function(c,d,m){var E;var v=m(899),i=Symbol.for("react.element"),h=Symbol.for("react.fragment"),f=Object.prototype.hasOwnProperty,D=v.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,k={key:!0,ref:!0,__self:!0,__source:!0};function w(T,M,R){var F,$={},W=null,z=null;R!==void 0&&(W=""+R),M.key!==void 0&&(W=""+M.key),M.ref!==void 0&&(z=M.ref);for(F in M)f.call(M,F)&&!k.hasOwnProperty(F)&&($[F]=M[F]);if(T&&T.defaultProps)for(F in M=T.defaultProps,M)$[F]===void 0&&($[F]=M[F]);return{$$typeof:i,type:T,key:W,ref:z,props:$,_owner:D.current}}E=h,d.jsx=w,d.jsxs=w},322:function(c,d,m){c.exports=m(837)},62:function(c){var d=[];function m(i){for(var h=-1,f=0;f<d.length;f++)if(d[f].identifier===i){h=f;break}return h}function E(i,h){for(var f={},D=[],k=0;k<i.length;k++){var w=i[k],T=h.base?w[0]+h.base:w[0],M=f[T]||0,R="".concat(T," ").concat(M);f[T]=M+1;var F=m(R),$={css:w[1],media:w[2],sourceMap:w[3],supports:w[4],layer:w[5]};if(F!==-1)d[F].references++,d[F].updater($);else{var W=v($,h);h.byIndex=k,d.splice(k,0,{identifier:R,updater:W,references:1})}D.push(R)}return D}function v(i,h){var f=h.domAPI(h);f.update(i);var D=function(w){if(w){if(w.css===i.css&&w.media===i.media&&w.sourceMap===i.sourceMap&&w.supports===i.supports&&w.layer===i.layer)return;f.update(i=w)}else f.remove()};return D}c.exports=function(i,h){h=h||{},i=i||[];var f=E(i,h);return function(k){k=k||[];for(var w=0;w<f.length;w++){var T=f[w],M=m(T);d[M].references--}for(var R=E(k,h),F=0;F<f.length;F++){var $=f[F],W=m($);d[W].references===0&&(d[W].updater(),d.splice(W,1))}f=R}}},793:function(c){var d={};function m(v){if(typeof d[v]=="undefined"){var i=document.querySelector(v);if(window.HTMLIFrameElement&&i instanceof window.HTMLIFrameElement)try{i=i.contentDocument.head}catch(h){i=null}d[v]=i}return d[v]}function E(v,i){var h=m(v);if(!h)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");h.appendChild(i)}c.exports=E},173:function(c){function d(m){var E=document.createElement("style");return m.setAttributes(E,m.attributes),m.insert(E,m.options),E}c.exports=d},892:function(c,d,m){function E(v){var i=m.nc;i&&v.setAttribute("nonce",i)}c.exports=E},36:function(c){function d(v,i,h){var f="";h.supports&&(f+="@supports (".concat(h.supports,") {")),h.media&&(f+="@media ".concat(h.media," {"));var D=typeof h.layer!="undefined";D&&(f+="@layer".concat(h.layer.length>0?" ".concat(h.layer):""," {")),f+=h.css,D&&(f+="}"),h.media&&(f+="}"),h.supports&&(f+="}");var k=h.sourceMap;k&&typeof btoa!="undefined"&&(f+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(k))))," */")),i.styleTagTransform(f,v,i.options)}function m(v){if(v.parentNode===null)return!1;v.parentNode.removeChild(v)}function E(v){var i=v.insertStyleElement(v);return{update:function(f){d(i,v,f)},remove:function(){m(i)}}}c.exports=E},464:function(c){function d(m,E){if(E.styleSheet)E.styleSheet.cssText=m;else{for(;E.firstChild;)E.removeChild(E.firstChild);E.appendChild(document.createTextNode(m))}}c.exports=d},899:function(c){c.exports=Ae}},q={};function x(c){var d=q[c];if(d!==void 0)return d.exports;var m=q[c]={id:c,exports:{}};return ce[c](m,m.exports,x),m.exports}(function(){x.n=function(c){var d=c&&c.__esModule?function(){return c.default}:function(){return c};return x.d(d,{a:d}),d}})(),function(){x.d=function(c,d){for(var m in d)x.o(d,m)&&!x.o(c,m)&&Object.defineProperty(c,m,{enumerable:!0,get:d[m]})}}(),function(){x.o=function(c,d){return Object.prototype.hasOwnProperty.call(c,d)}}(),function(){x.r=function(c){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(c,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(c,"__esModule",{value:!0})}}(),function(){x.nc=void 0}();var me={};return function(){x.r(me),x.d(me,{Link:function(){return Ut},emitRoute:function(){return Zt},getRoute:function(){return Ht},useRoute:function(){return Wt},useRouter:function(){return Lt}});var c=x(899),d=x.n(c),E=e=>Object.prototype.toString.call(e).slice(8,-1).toLowerCase(),i=e=>E(e)==="array",f=e=>E(e)==="object",k=e=>(e==null?void 0:e.$$typeof)&&typeof e.$$typeof=="symbol"&&e.$$typeof.description==="react.element",T=e=>e==null?void 0:e.__v_isVNode,R=(e,t)=>Object.prototype.hasOwnProperty.call(e!=null?e:{},t);const F=e=>{if(!i(e)&&!f(e))return e;const t=i(e)?[]:{};for(const s in e)if(R(e,s)){const r=e[s];t[s]=k(r)||T(r)||typeof r!="object"?r:r!==e?F(r):"cyclic"}else Object.setPrototypeOf(t,{[s]:e[s]});return t};var $=F,z=e=>E(e)==="function",Q=e=>E(e)==="promise"||f(e)&&z(e.then),ke=(e,t=12e4,s="\u8BF7\u6C42\u8D85\u65F6\uFF01")=>{if(!Q(e))return{};let r=null,n=null;return{promiseFn:new Promise((l,p)=>{r=(o="canceled")=>{clearTimeout(n),l({canceled:!0,errMsg:o})},t&&(t=typeof t!="number"?12e4:t,n=setTimeout(()=>r(s),t)),e.then(o=>{clearTimeout(n),l({result:o,errMsg:!1})}).catch(o=>{clearTimeout(n),p(o)})}),cancelFn:r}},Me=e=>e?e.charAt(e.length-1)==="/"?e.slice(0,-1):e:"",L=x(322),et=(e,t)=>(0,L.jsx)("div",{dangerouslySetInnerHTML:{__html:e},...t}),ae=e=>{const{error:t={},info:s=""}=e||{},{message:r,stack:n,errMsg:u}=t;let l=u||n||t.toString();l=`${l}
${s}`.replace(/\r|\n|\r\n/g,"<br/>"),l=l.replace(/\t/g,"&nbsp;&nbsp;&nbsp;&nbsp;"),l=l.replace(/\s/g,"&nbsp;");const p=r==null?void 0:r.slice(0,120).split(". ").slice(0,2).join(". ");return(0,L.jsxs)("div",{style:{padding:"15px 20px",backgroundColor:"#fff",wordWrap:"break-word"},children:[et(l,{style:{color:"red"}}),p&&(0,L.jsxs)("a",{style:{display:"inline-block",padding:"15px",color:"#00b4cf"},href:`https://stackoverflow.com/search?q=${p}`,target:"_blank",children:[" ","--> \u53BB\u7F51\u4E0A\u67E5\u627E\u9519\u8BEF\u539F\u56E0\uFF1F"]})]})},K=()=>{const e={};return{on:(n,u)=>{e[n]||(e[n]=[]),e[n].indexOf(u)===-1&&e[n].push(u)},emit:(n,u)=>{e[n]&&e[n].map(l=>l(u))},off:(n,u=null)=>{if(e[n]){if(typeof u!="function")return delete e[n];const l=e[n].indexOf(u);l>-1&&(e[n].splice(l,1),e[n].length||delete e[n])}}}};const Fe=e=>{const t={};for(let s in e)R(e,s)||(t[s]=e[s]);return t};var tt=(e,t)=>{if(!f(e))return t;if(!f(t))return e;const s={...Fe(e),...Fe(t)},r={...e,...t};return Object.keys(s).map(n=>{Object.setPrototypeOf(r,{[n]:s[n]})}),r},he=()=>{const{on:e,emit:t,off:s}=K(),r={};return{getState:o=>$(r[o]),setState:(o,a=!1)=>{if(typeof o=="function"&&(o=o($(r))),!f(o))throw TypeError("\u5FC5\u987B\u4F20\u5165object\u5BF9\u8C61\uFF01");const b=$(o);Object.keys(b).map(S=>{const P=r[S],g=b[S],C=f(g)&&f(P)?tt(P,g):g;!a&&t(S,C),r[S]=C})},subscribe:(o,a)=>(e(o,a),()=>s(o,a)),unsubscribe:s,clean:o=>{typeof o=="string"?r[o]=void 0:Array.isArray(o)?o.map(a=>r[a]=void 0):Object.keys(r).map(a=>r[a]=void 0)}}},Ie=e=>(t,s)=>{const[r,n]=(0,c.useState)(()=>{const o=e==null?void 0:e.getState(t);return o!==void 0?o:(s!==void 0&&(e==null||e.setState({[t]:s},!0)),s)}),u=(0,c.useCallback)(o=>e==null?void 0:e.setState({[t]:typeof o=="function"?o(e==null?void 0:e.getState(t)):o}),[]),l=(0,c.useCallback)(o=>e==null?void 0:e.subscribe(t,o),[]),p=(0,c.useCallback)((o=o)=>e==null?void 0:e.clean(o),[]);return(0,c.useEffect)(()=>{e==null||e.subscribe(t,o=>n(o))},[]),[r,u,l,p]};const nt=he(),rn=Ie(nt),sn=K(),on=K(),cn="push-emitter",an="replace-emitter",un="useRoute-emitter",ve={delay:8e3,timeoutMsg:"\u8BF7\u6C42\u8D85\u65F6\uFF01",cancelMsg:"\u8BF7\u6C42\u5DF2\u53D6\u6D88\uFF01"},ge="/404",rt={getState:()=>history.state,go:e=>history.go(e),forward:()=>history.forward(),back:()=>history.back()},De=(e,t,s,r,n=[])=>{const u=o=>{for(let a=0,b=o.length;a<b;a++){const S=o[a],P=S[r].split("?")[0];if(new RegExp("^"+P.replace(/:[^/]+/g,"[^/]+")+"$").test(t))return S;if(i(S[s])){const C=u(S[s]);if(C)return C}}},l=u(e);if(!l)return ge;const{redirect:p}=l;return p?n.includes(p)?n:(n.push(p),De(e,p.split("?")[0],s,r,n)):n[n.length-1]},st=(e,t,s,r,n)=>{if(!i(e))return null;const u=b=>{const S=b.split("/"),P=t.split("/"),g={};return S.map((C,A)=>C.indexOf(":")===0&&(g[C.slice(1)]=P[A])),g},l=(b,S)=>{const P=[],g=S.split("/:")[0];for(let C=0,A=b.length;C<A;C++){const y=b[C];if(y[n]===g){y.active=!0;const{name:_,title:O,icon:I,params:B}=y;P.push({name:_,title:O,icon:I,params:B,[n]:g})}else if(S.indexOf(`${y[n]}/`)===0){y.active=!0;const _=u(y[n]),O=Object.keys(_).map(H=>_[H]).join("/"),{name:I,title:B,icon:j}=y,N=O?`${g}/${O}`:y[n];P.push({name:I,title:B,icon:j,[n]:N,params:{...y.params,..._}})}else if(y[n]===S){y.active=!0;const _=u(y[n]),{[r]:O,...I}=y;P.push({...I,[n]:t,params:{...I.params,...s,..._}})}}return P},p=(b,S)=>{for(let P=0,g=b.length;P<g;P++){const C=b[P];if(S.indexOf(`${C[n]}/`)===0){C.active=!0;return}}},o=b=>{for(let S=0,P=b.length;S<P;S++){const g=b[S],C=(g[n]||"").split("?")[0];if(C===t){g.hideMenu&&p(b,g.parentPath||C),g.active=!0;const{[r]:y,..._}=g;return[{..._,params:{..._.params,...s}}]}if(new RegExp("^"+C.replace(/:[^/]+/g,"[^/]+")+"$").test(t))return l(b,C);if(i(g[r])){const y=o(g[r]);if(y){g.active=!0,g.open=!0;const{[r]:_,...O}=g;return[O,...y]}}}},a=o(e)||[];return{result:e,current:a}},Te=(e,t,s)=>e.filter(r=>r.hideMenu||r[s].indexOf("/:")>-1?!1:(i(r[t])&&(r[t]=Te(r[t],t,s)),!0));var ot=(e,t,s,r="children",n="path")=>{const u=De(e,t,r,n);if(u)return{redirect:u};const{result:l,current:p}=st(e,t,s,r,n),o=Te(l,r,n);return{current:p,menu:o}},$e=e=>/^https?:\/\/[^\s/?.#]+\.[^\s]+/.test(e);const be=(e,t)=>{const s=["#/","/"],r=s[!!t-0];if(!e||s.includes(e))return r;const n=e.charAt(e.length-1)==="/"?e.slice(0,-1):e;return t||n.indexOf("#/")>-1?n:`#${n}`},ue=(e,t,s,r=!1)=>{const n=be(t,s);return r?n:s?e&&n==="/"?e:`${e}${n}`:e?`${e}/${n}`:n},ct=(e,t,s,r,n,u)=>{if(!i(e))return e;const l=(p,o="")=>p.filter(a=>!a.denied).map(a=>{if(!u&&!a.exact&&!$e(a[r])){(!a[r]||a[r]==="javascript:;")&&(a[r]="");const b=a[r].charAt(0)==="/"&&o.charAt(o.length-1)==="/"?a[r].slice(1):a[r].charAt(0)!=="/"&&o.charAt(o.length-1)!=="/"?`/${a[r]}`:a[r];a[r]=o?o+b:ue(n,b,t)}return a.redirect&&(a.redirect=ue(n,a.redirect,t)),i(a[s])&&(a[s]=l(a[s],a[r]),!a.redirect&&a[s].length&&(a.redirect=a[s][0][r])),a});return l(e)};var Be=e=>{if(!f(e))return"";const t=[];return Object.keys(e).map((s,r)=>{const n=r>0?"&":"?";t.push(`${n}${s}=${e[s]}`)}),t.join("")},ye=(e="")=>{const[t,s]=e.split("?");if(s){const r={};return s.split("&").map(u=>{const[l,p]=u.split("=");r[l]=p}),{path:t,params:r}}return{path:t}};const at=()=>{document.documentElement.scrollTop?document.documentElement.scrollTop=0:document.body.scrollTop&&(document.body.scrollTop=0)},ut=(e,t)=>{for(let s=e.length-1,r;r=e[s--];){const{title:n,name:u}=r;if(typeof n=="string"&&n.length)return document.title=n;if((n==null||n===!0)&&u)return document.title=t?`${u}-${t}`:u;if(t)return document.title=t}},it=e=>{const{pathname:t,search:s,hash:r}=location;if(e){const o=be(t,e),a=decodeURIComponent(`${o}${s}`),{params:b}=ye(a);return{path:a,params:b}}const n=decodeURIComponent(be(r,e)),{params:u}=ye(n),l=Me(t);return{path:l?`${l}/${n}`:n,params:u}},Ce=(e,t,s)=>{typeof e=="function"&&e({...t,stay:new Date-s})},lt=(e,t,s,r)=>{let n,u,l;if(typeof e=="string")n=e;else if(f(e))n=e.path,u=e.params,l=e.query;else return;!n||n==="."||n==="./"?n=r:n.indexOf("./")===0?n=`${r.split("?")[0]}${n.replace("./","/")}`:n.indexOf("../")===0&&(n=`${r.split("?")[0].split("/").slice(0,-1).join("/")}${n.replace("../","/")}`),n=ue(t,n,s,e==null?void 0:e.exact);const p=ye(n);n=p.path;const o={...p.params,...l},a=Be(o);return n=`${n}${a}`,u={...u,...o},{path:n,params:u}},Le=(e,t)=>{const s=e.split(t);return s.length>1?["","/"].includes(s[1].slice(0,1)):!1},ft=K();var je=e=>{const{on:t,emit:s,off:r}=ft;return{on:n=>t(e,n),emit:n=>s(e,n),off:n=>r(e,n)}},pt=e=>(t,s)=>{const{getState:r,setState:n,subscribe:u,unsubscribe:l,clean:p}=e;return s!==void 0&&n({[t]:s},!0),{getState:()=>r(t),setState:(o,a)=>n({[t]:o},a),subscribe:o=>u(t,o),unsubscribe:()=>l(t),clean:()=>p(t)}};const dt=he();var _t=pt(dt);const Se=je("push-emitter"),Ne=je("replace-emitter"),J=_t("route-store"),mt=K(),Ue=he(),ht=Ie(Ue);var vt=()=>![typeof window,typeof document].includes("undefined"),gt=e=>{if(!vt())return;const t=document.createElement("div");return t.innerHTML=e,t.children[0]},bt=Object.defineProperty,yt=(e,t,s)=>t in e?bt(e,t,{enumerable:!0,configurable:!0,writable:!0,value:s}):e[t]=s,Ct=(e,t,s)=>(yt(e,typeof t!="symbol"?t+"":t,s),s);class St extends d().Component{constructor(){super(...arguments),Ct(this,"state",{error:null})}static getDerivedStateFromError(t){return{error:t}}componentDidCatch(t,s){const{errorReport:r}=this.props;typeof r=="function"&&r({error:t,info:s.componentStack})}render(){const{error:t}=this.state,{fallback:s,children:r}=this.props;return t?s(t):r}}var Rt=({children:e,report:t})=>{var s;const r=(0,c.useRef)();return(s=r.current)!=null&&s.state&&(r.current.state.error=null),(0,L.jsx)(St,{ref:r,fallback:(n,u)=>ae({error:n,info:u}),errorReport:t,children:e})},Et=x(62),We=x.n(Et),Pt=x(36),He=x.n(Pt),xt=x(793),Ze=x.n(xt),wt=x(892),qe=x.n(wt),Ot=x(173),Je=x.n(Ot),At=x(464),Ve=x.n(At),ie=x(990),Y={};Y.styleTagTransform=Ve(),Y.setAttributes=qe(),Y.insert=Ze().bind(null,"head"),Y.domAPI=He(),Y.insertStyleElement=Je();var yn=We()(ie.Z,Y),Cn=ie.Z&&ie.Z.locals?ie.Z.locals:void 0,kt=({global:e,absolute:t})=>(0,L.jsx)("div",{className:`spinner${e?" global":""}${t?" absolute":""}`,children:(0,L.jsx)("figure",{className:"spinning"})}),Mt=()=>{const e=(0,c.useRef)([]);return(0,c.useEffect)(()=>()=>{e.current.map(s=>s.cancelFn()),e.current=[]},[]),{cancelablePromise:(0,c.useCallback)((s,r=!0)=>{const n=ke(s,r);return e.current.indexOf(n)===-1&&e.current.push(n),n.promiseFn},[])}},Xe=(e={})=>{const{cancelablePromise:t}=Mt(),[s,r]=(0,c.useState)(e),n=(0,c.useRef)({}),u=(0,c.useRef)({}),l=(0,c.useCallback)((o=null)=>{Array.isArray(o)&&o.length?o.map(a=>n.current[a]=e[a]):n.current=e},[]),p=(0,c.useCallback)((o,a,b=!1)=>{const S=Object.keys(o),P=JSON.stringify(S.sort());if(!u.current[P]){u.current[P]=!0,b&&l(Array.isArray(b)?b:S),S.map(g=>{n.current[g]||(n.current[g]={}),n.current[g].pending=!0}),r({...n.current});for(let g=0,C=S.length;g<C;g++){const A=S[g];t(o[A]).then(y=>{let{result:_,errMsg:O}=y;g===C-1&&(u.current[P]=!1),typeof a=="function"&&(_=a(_)||_),n.current[A]={..._,pending:!1},O===!1&&r({...n.current})}).catch(y=>{throw g===C-1&&(u.current[P]=!1),n.current[A]={error:y,pending:!1},r({...n.current}),y})}}},[]);return[s,p,l]};const le=e=>Object.keys(e).length;var Ft=e=>{const{Comp:t,restResolve:s,loadPromise:r,params:n,children:u}=e,[l,p]=Xe(),[o,a]=Xe();return(0,c.useEffect)(()=>{le(s)&&p(s),le(r)&&a(r)},[s,r]),(0,c.useEffect)(()=>{const b=le(l);b&&b===le(s)&&n.store.setState(l)},[l]),(0,L.jsx)(t,{...n,...l,...o,children:u})};const It=e=>e===!1?null:k(e)?e:z(e)?(0,L.jsx)(e,{}):(0,L.jsx)(kt,{}),Dt=({Loading:e,ErrorBoundary:t,loadedComp:s})=>{const r=(0,L.jsx)(c.Suspense,{fallback:It(e),children:s});return t===!1?r:z(t)?(0,L.jsx)(t,{children:r}):(0,L.jsx)(Rt,{children:r})};var ze=({Comp:e,routerProps:t,children:s})=>{const{params:r,...n}=t,{loading:u,errorBoundary:l,...p}=r,o=(0,L.jsx)(Ft,{Comp:e,...n,params:p,children:s});return Dt({Loading:u,ErrorBoundary:l,loadedComp:o})};const Re={},Ee=(e,t,s,r)=>Q(s)?s.then(n=>{var u;return ze({Comp:e,routerProps:t,children:(u=n.default)!=null?u:n})}):ze({Comp:e,routerProps:t,children:s}),Tt=(e,t,s)=>{const r={},n={};return f(e)?(Object.keys(e).map(u=>{const l=t.getState(u);l==null?n[u]=e[u](s):r[u]=l}),{cachedResolve:r,restResolve:n}):{cachedResolve:r,restResolve:n}},$t=(e,t)=>{if(!f(e))return{};const s={};return Object.keys(e).map(r=>s[r]=e[r](t)),s};var Bt=e=>{const{current:t,menu:s,...r}=e,n=t.map(p=>{const{component:o,resolve:a,loadData:b,loading:S,errorBoundary:P,icon:g,...C}=p;return C}),u=[...t].filter(p=>p.component),l=(p=0)=>{if(!u.length)return null;const o=u.shift(),{component:a,resolve:b,loadData:S,icon:P,key:g,...C}=o;if(typeof a=="function"||Q(a)){const A=C.path;let y=Re[A];const{cachedResolve:_,restResolve:O}=Tt(b,r.store,C),B={loadPromise:$t(S,C),restResolve:O,params:{current:n,...r,...C,..._}},j=l(p+1);if(y)return Ee(y,B,j,A);try{y=a(),y=k(y)?a:y}catch(N){y=a}return Q(y)?y.then(N=>{var H;return y=(H=N.default)!=null?H:N,Re[A]=y,Ee(y,B,j,A)}):(Re[A]=y,Ee(y,B,j,A))}return typeof a=="string"?gt(a):a};return l()},Lt=e=>{const[t,s]=(0,c.useState)(e),[r,n]=(0,c.useState)(),[u,l]=(0,c.useState)(),p=(0,c.useRef)(),o=(0,c.useRef)(),a=(0,c.useRef)(),b=(0,c.useRef)(),S=()=>{typeof p.current=="function"&&(p.current({cancel:ve.cancelMsg}),p.current=null)},P=(0,c.useCallback)(_=>{typeof _=="function"?s(O=>({...O,..._(O)})):f(_)&&s(O=>({...O,..._}))},[]),g=(_,O="pushState")=>{const{basepath:I,browserRouter:B}=b.current,j=a.current,{path:N,params:H}=lt(_,I,B,j);if(N===j)return;y({inputPath:N,inputParams:H},()=>history[O](_==null?void 0:_.state,"",N))},C=(0,c.useCallback)(_=>g(_),[]),A=(0,c.useCallback)(_=>g(_,"replaceState"),[]),y=(0,c.useCallback)(({inputPath:_="",inputParams:O={}},I)=>{const B=+new Date,{browserRouter:j,childKey:N,idKey:H,title:ee,routers:te,beforeRender:ne,afterRender:re,basepath:se,allowedNotFound:Z,...qt}=b.current;if(!_){const{path:U,params:V}=it(j);_=U,O={...O,...V}}const xe=a.current;new Promise((U,V)=>{te!=null&&te.length||V("\u8DEF\u7531\u4E3A\u7A7A\uFF01"),_!==a.current&&typeof ne=="function"?ne({path:_,params:O,prevPath:xe},U,V):U()}).then(U=>{var V,Ye;if(U===!1)return;const Ge=U==null?void 0:U.path;if(Ge&&ue(se,Ge,j)!==_){A(U);return}o.current=(V=o.current)!=null?V:_;const{redirect:X,current:oe,menu:Jt}=ot($(te),_.split("?")[0],O,N,H);if(X){if(Z&&X===ge&&(typeof Z=="boolean"||typeof Z=="string"&&Le(o.current,Z)||i(Z)&&Z.find(Oe=>Le(o.current,Oe))))return;if(i(X)){console.error(`\u522B\u95F9\uFF0C[${[_,...X].join(" -> ")}] \u91CD\u5B9A\u5411\u6B7B\u5FAA\u73AF\uFF01\uFF01\uFF01`);return}return X===ge?A({path:X}):C({path:X,exact:!0})}I==null||I(),(_==null?void 0:_.split("?")[0])!==((Ye=a.current)==null?void 0:Ye.split("?")[0])&&at(),ut(oe,ee);const Qe={eventBus:mt,store:Ue,useStore:ht,...qt,updateRouter:P,emitRouter:J.subscribe,router:{push:C,replace:A},current:oe,menu:Jt,inputPath:o.current,prevPath:xe,basepath:se,title:ee,history:{...rt,goBack:pe=>C({...pe,path:xe})}};J.setState({...Qe,browserRouter:j});const we=Bt(Qe);if(a.current=_,o.current=null,S(),Q(we)){const{promiseFn:pe,cancelFn:Oe}=ke(we,{delay:ve.delay,msg:{timeout:ve.timeoutMsg}});return p.current=Oe,l(!0),pe.then(de=>{p.current=null;const{result:Vt,errMsg:_e}=de,Ke=_e===!1?Vt:_e!=null&&_e.timeout?ae({error:{errMsg:`${_} ${_e.timeout}`}}):null;Ke&&(l(!1),Ce(re,oe.slice(-1)[0],B),n(Ke))}).catch(de=>{throw p.current=null,l(!1),Ce(re,oe.slice(-1)[0],B),n(ae({error:de})),de})}Ce(re,oe.slice(-1)[0],B),n(we)}).catch(U=>{throw n(ae({error:U})),U})},[]);return(0,c.useEffect)(()=>{const{childKey:_="children",idKey:O="path",browserRouter:I=!1,routers:B=[],basepath:j="",exact:N=!1,inputPath:H="",inputParams:ee={},...te}=t,ne=Me(j),re=ct($(B),I,_,O,ne,N);b.current={...te,childKey:_,idKey:O,browserRouter:I,routers:re,basepath:ne};const se=I?"popstate":"hashchange",Z=()=>y({});return y({inputPath:H,inputParams:ee}),Se.on(C),Ne.on(A),window.addEventListener(se,Z,!1),()=>{S(),Se.off(C),Ne.off(A),window.removeEventListener(se,Z,!1)}},[t]),{updateRouter:P,output:r,loading:u}},jt=e=>{const{to:t,onClick:s,preventDefault:r,stopPropagation:n=!0,exact:u=!0,target:l,...p}=e,o=()=>{const b=typeof t=="string"?{exact:u,path:t}:{exact:u,...t};Se.emit(b)};return b=>{var S;if(b.preventDefault(),n&&b.stopPropagation(),!(p!=null&&p.disabled)){if(!r){if(l){const{browserRouter:P}=J.getState(),g=typeof t=="string"?t:(S=t==null?void 0:t.path)!=null?S:"",C=Be(t==null?void 0:t.query),A=P||g.indexOf("#/")>-1||$e(g);window==null||window.open(`${A?"":"#"}${g}${C}`,l);return}o()}typeof s=="function"&&s()}}},fe=x(267),G={};G.styleTagTransform=Ve(),G.setAttributes=qe(),G.insert=Ze().bind(null,"head"),G.domAPI=He(),G.insertStyleElement=Je();var kn=We()(fe.Z,G),Pe=fe.Z&&fe.Z.locals?fe.Z.locals:void 0;const Nt=e=>{if(!e)return Pe.link;const t=e.trim().split(" ").filter(Boolean),r=t.find(n=>n==="active")?[Pe.active]:[];return[Pe.link,...r,...t].join(" ")};var Ut=e=>{const{to:t,onClick:s,preventDefault:r,stopPropagation:n,exact:u,target:l,className:p,...o}=e;return(0,L.jsx)("span",{onClick:jt(e),className:Nt(p),...o})},Wt=()=>{const[e,t]=(0,c.useState)(J.getState());return(0,c.useEffect)(()=>J.subscribe(s=>t(s)),[]),e};const Ht=J.getState,Zt=J.subscribe}(),me}()});

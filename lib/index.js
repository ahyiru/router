import*as Vt from"react";var qt={670:(c,h,d)=>{d.d(h,{A:()=>k});var S=d(758),f=d.n(S),_=d(935),l=d.n(_),g=l()(f());g.push([c.id,`@keyframes before {
  0% {
    width: 0.6rem;
    box-shadow: 1.2rem -0.6rem #ff3e38, -1.2rem 0.6rem #318ffa;
  }
  35% {
    width: 3rem;
    box-shadow: 0 -0.6rem #ff3e38, 0 0.6rem #318ffa;
  }
  70% {
    width: 0.6rem;
    box-shadow: -1.2rem -0.6rem #ff3e38, 1.2rem 0.6rem #318ffa;
  }
  100% {
    box-shadow: 1.2rem -0.6rem #ff3e38, -1.2rem 0.6rem #318ffa;
  }
}
@keyframes after {
  0% {
    height: 0.6rem;
    box-shadow: 0.6rem 1.2rem #6ce581, -0.6rem -1.2rem #fecb2e;
  }
  35% {
    height: 3rem;
    box-shadow: 0.6rem 0 #6ce581, -0.6rem 0 #fecb2e;
  }
  70% {
    height: 0.6rem;
    box-shadow: 0.6rem -1.2rem #6ce581, -0.6rem 1.2rem #fecb2e;
  }
  100% {
    box-shadow: 0.6rem 1.2rem #6ce581, -0.6rem -1.2rem #fecb2e;
  }
}
.spinner {
  position: relative;
  height: 100%;
  min-height: 100px;
  display: block;
  overflow: hidden;
  pointer-events: auto;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  z-index: 999;
  background-color: hsla(0, 0%, 72%, 0.24);
}
.spinner.absolute {
  position: absolute;
  min-height: auto;
}
.spinner.global {
  position: fixed;
  width: 100vw;
  height: 100vh;
}
.spinner .spinning {
  width: 3rem;
  height: 3rem;
  position: absolute;
  left: 50%;
  top: 50%;
  transform: translate(-50%, -50%) rotate(165deg);
  margin: 0;
}
.spinner .spinning::before,
.spinner .spinning::after {
  content: "";
  position: absolute;
  top: 50%;
  left: 50%;
  display: block;
  width: 0.6rem;
  height: 0.6rem;
  border-radius: 0.3rem;
  transform: translate(-50%, -50%);
}
.spinner .spinning::before {
  animation: before 1.5s infinite;
}
.spinner .spinning::after {
  animation: after 1.5s infinite;
}
`,""]),g.locals={};const k=g},845:(c,h,d)=>{d.d(h,{A:()=>k});var S=d(758),f=d.n(S),_=d(935),l=d.n(_),g=l()(f());g.push([c.id,`.Iuy_e {
  text-decoration: none;
  cursor: pointer;
  color: var(--linkColor);
  background-color: transparent;
  font-weight: 500;
  transition: color 0.3s;
}
.Iuy_e:active, .Iuy_e.D3oJg {
  color: var(--linkActiveColor, #42a5f5);
}
.Iuy_e:hover {
  color: var(--linkHoverColor, #2196f3);
}
.Iuy_e[disabled] {
  cursor: not-allowed;
  opacity: 0.7;
}
.Iuy_e[disabled]:active, .Iuy_e[disabled].D3oJg, .Iuy_e[disabled]:hover {
  color: var(--linkColor);
}
`,""]),g.locals={link:"Iuy_e",active:"D3oJg"};const k=g},935:c=>{c.exports=function(h){var d=[];return d.toString=function(){return this.map(function(f){var _="",l=typeof f[5]<"u";return f[4]&&(_+="@supports (".concat(f[4],") {")),f[2]&&(_+="@media ".concat(f[2]," {")),l&&(_+="@layer".concat(f[5].length>0?" ".concat(f[5]):""," {")),_+=h(f),l&&(_+="}"),f[2]&&(_+="}"),f[4]&&(_+="}"),_}).join("")},d.i=function(f,_,l,g,k){typeof f=="string"&&(f=[[null,f,void 0]]);var I={};if(l)for(var x=0;x<this.length;x++){var D=this[x][0];D!=null&&(I[D]=!0)}for(var M=0;M<f.length;M++){var R=[].concat(f[M]);l&&I[R[0]]||(typeof k<"u"&&(typeof R[5]>"u"||(R[1]="@layer".concat(R[5].length>0?" ".concat(R[5]):""," {").concat(R[1],"}")),R[5]=k),_&&(R[2]&&(R[1]="@media ".concat(R[2]," {").concat(R[1],"}")),R[2]=_),g&&(R[4]?(R[1]="@supports (".concat(R[4],") {").concat(R[1],"}"),R[4]=g):R[4]="".concat(g)),d.push(R))}},d}},758:c=>{c.exports=function(h){return h[1]}},335:(c,h,d)=>{var S;var f=d(649),_=Symbol.for("react.element"),l=Symbol.for("react.fragment"),g=Object.prototype.hasOwnProperty,k=f.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,I={key:!0,ref:!0,__self:!0,__source:!0};function x(D,M,R){var O,W={},L=null,_e=null;R!==void 0&&(L=""+R),M.key!==void 0&&(L=""+M.key),M.ref!==void 0&&(_e=M.ref);for(O in M)g.call(M,O)&&!I.hasOwnProperty(O)&&(W[O]=M[O]);if(D&&D.defaultProps)for(O in M=D.defaultProps,M)W[O]===void 0&&(W[O]=M[O]);return{$$typeof:_,type:D,key:L,ref:_e,props:W,_owner:k.current}}S=l,h.jsx=x,h.jsxs=x},85:(c,h,d)=>{c.exports=d(335)},591:c=>{var h=[];function d(_){for(var l=-1,g=0;g<h.length;g++)if(h[g].identifier===_){l=g;break}return l}function S(_,l){for(var g={},k=[],I=0;I<_.length;I++){var x=_[I],D=l.base?x[0]+l.base:x[0],M=g[D]||0,R="".concat(D," ").concat(M);g[D]=M+1;var O=d(R),W={css:x[1],media:x[2],sourceMap:x[3],supports:x[4],layer:x[5]};if(O!==-1)h[O].references++,h[O].updater(W);else{var L=f(W,l);l.byIndex=I,h.splice(I,0,{identifier:R,updater:L,references:1})}k.push(R)}return k}function f(_,l){var g=l.domAPI(l);g.update(_);var k=function(x){if(x){if(x.css===_.css&&x.media===_.media&&x.sourceMap===_.sourceMap&&x.supports===_.supports&&x.layer===_.layer)return;g.update(_=x)}else g.remove()};return k}c.exports=function(_,l){l=l||{},_=_||[];var g=S(_,l);return function(I){I=I||[];for(var x=0;x<g.length;x++){var D=g[x],M=d(D);h[M].references--}for(var R=S(I,l),O=0;O<g.length;O++){var W=g[O],L=d(W);h[L].references===0&&(h[L].updater(),h.splice(L,1))}g=R}}},128:c=>{var h={};function d(f){if(typeof h[f]>"u"){var _=document.querySelector(f);if(window.HTMLIFrameElement&&_ instanceof window.HTMLIFrameElement)try{_=_.contentDocument.head}catch{_=null}h[f]=_}return h[f]}function S(f,_){var l=d(f);if(!l)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");l.appendChild(_)}c.exports=S},51:c=>{function h(d){var S=document.createElement("style");return d.setAttributes(S,d.attributes),d.insert(S,d.options),S}c.exports=h},855:(c,h,d)=>{function S(f){var _=d.nc;_&&f.setAttribute("nonce",_)}c.exports=S},740:c=>{function h(f,_,l){var g="";l.supports&&(g+="@supports (".concat(l.supports,") {")),l.media&&(g+="@media ".concat(l.media," {"));var k=typeof l.layer<"u";k&&(g+="@layer".concat(l.layer.length>0?" ".concat(l.layer):""," {")),g+=l.css,k&&(g+="}"),l.media&&(g+="}"),l.supports&&(g+="}");var I=l.sourceMap;I&&typeof btoa<"u"&&(g+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(I))))," */")),_.styleTagTransform(g,f,_.options)}function d(f){if(f.parentNode===null)return!1;f.parentNode.removeChild(f)}function S(f){if(typeof document>"u")return{update:function(){},remove:function(){}};var _=f.insertStyleElement(f);return{update:function(g){h(_,f,g)},remove:function(){d(_)}}}c.exports=S},656:c=>{function h(d,S){if(S.styleSheet)S.styleSheet.cssText=d;else{for(;S.firstChild;)S.removeChild(S.firstChild);S.appendChild(document.createTextNode(d))}}c.exports=h},649:c=>{var h=S=>{var f={};return w.d(f,S),f},d=S=>()=>S;c.exports=Vt}},Ze={};function w(c){var h=Ze[c];if(h!==void 0)return h.exports;var d=Ze[c]={id:c,exports:{}};return qt[c](d,d.exports,w),d.exports}w.n=c=>{var h=c&&c.__esModule?()=>c.default:()=>c;return w.d(h,{a:h}),h},w.d=(c,h)=>{for(var d in h)w.o(h,d)&&!w.o(c,d)&&Object.defineProperty(c,d,{enumerable:!0,get:h[d]})},w.o=(c,h)=>Object.prototype.hasOwnProperty.call(c,h),w.nc=void 0;var Q={};(()=>{w.d(Q,{N_:()=>Bt,vY:()=>Nt,aM:()=>jt,lq:()=>Lt,rd:()=>$t});var c=w(649);const d=e=>Object.prototype.toString.call(e).slice(8,-1).toLowerCase(),f=e=>d(e)==="array",l=e=>d(e)==="object",k=e=>e?.$$typeof&&typeof e.$$typeof=="symbol"&&e.$$typeof.description==="react.element",x=e=>e?.__v_isVNode,M=(e,r)=>Object.prototype.hasOwnProperty.call(e??{},r),R=e=>{if(!f(e)&&!l(e))return e;const r=f(e)?[]:{};for(const s in e)if(M(e,s)){const n=e[s];r[s]=k(n)||x(n)||typeof n!="object"?n:n!==e?R(n):"cyclic"}else Object.setPrototypeOf(r,{[s]:e[s]});return r},O=R,L=e=>d(e)==="function",Z=e=>d(e)==="promise"||l(e)&&L(e.then),Oe=(e,r=3e5,s="\u8BF7\u6C42\u8D85\u65F6\uFF01")=>{if(!Z(e))return{};let n=null,t=null;return{promiseFn:new Promise((a,p)=>{n=(o="canceled")=>{clearTimeout(t),a({canceled:!0,errMsg:o})},r&&(r=typeof r!="number"?12e4:r,t=setTimeout(()=>n(s),r)),e.then(o=>{clearTimeout(t),a({result:o,errMsg:!1})}).catch(o=>{clearTimeout(t),p(o)})}),cancelFn:n}},ke=e=>e?e.charAt(e.length-1)==="/"?e.slice(0,-1):e:"";var B=w(85);const Ke=(e,r)=>(0,B.jsx)("div",{dangerouslySetInnerHTML:{__html:e},...r}),ce=e=>{const{error:r={},info:s=""}=e||{},{message:n,stack:t,errMsg:i}=r;let a=i||t||r.toString();a=`${a}
${s}`.replace(/\r|\n|\r\n/g,"<br/>"),a=a.replace(/\t/g,"&nbsp;&nbsp;&nbsp;&nbsp;"),a=a.replace(/\s/g,"&nbsp;");const p=n?.slice(0,120).split(". ").slice(0,2).join(". ");return(0,B.jsxs)("div",{style:{padding:"15px 20px",backgroundColor:"#fff",wordWrap:"break-word"},children:[Ke(a,{style:{color:"red"}}),p&&(0,B.jsxs)("a",{style:{display:"inline-block",padding:"15px",color:"#00b4cf"},href:`https://stackoverflow.com/search?q=${p}`,target:"_blank",children:[" ","--> \u53BB\u7F51\u4E0A\u67E5\u627E\u9519\u8BEF\u539F\u56E0\uFF1F"]})]})},K=e=>/^https?:\/\/[^\s/?.#]+\.[^\s]+/.test(e),ee=()=>{const e={};return{on:(t,i)=>{e[t]||(e[t]=[]),e[t].indexOf(i)===-1&&e[t].push(i)},emit:(t,i)=>{e[t]&&e[t].map(a=>a(i))},off:(t,i=null)=>{if(e[t]){if(typeof i!="function")return delete e[t];const a=e[t].indexOf(i);a>-1&&(e[t].splice(a,1),e[t].length||delete e[t])}}}},Me=e=>{const r={};for(let s in e)M(e,s)||(r[s]=e[s]);return r},et=(e,r)=>{if(!l(e))return r;if(!l(r))return e;const s={...Me(e),...Me(r)},n={...e,...r};return Object.keys(s).map(t=>{Object.setPrototypeOf(n,{[t]:s[t]})}),n},me=()=>{const{on:e,emit:r,off:s}=ee(),n={};return{getState:o=>O(n[o]),setState:(o,m=!1)=>{if(typeof o=="function"&&(o=o(O(n))),!l(o))throw TypeError("\u5FC5\u987B\u4F20\u5165object\u5BF9\u8C61\uFF01");const u=O(o);Object.keys(u).map(b=>{const A=n[b],v=u[b],E=l(v)&&l(A)?et(A,v):v;!m&&r(b,E),n[b]=E})},subscribe:(o,m)=>(e(o,m),()=>s(o,m)),unsubscribe:s,clean:o=>{typeof o=="string"?n[o]=void 0:Array.isArray(o)?o.map(m=>n[m]=void 0):Object.keys(n).map(m=>n[m]=void 0)}}},Fe=e=>(r,s)=>{const[n,t]=(0,c.useState)(()=>{const o=e?.getState(r);return o!==void 0?o:(s!==void 0&&e?.setState({[r]:s},!0),s)}),i=(0,c.useCallback)(o=>e?.setState({[r]:typeof o=="function"?o(e?.getState(r)):o}),[]),a=(0,c.useCallback)(o=>e?.subscribe(r,o),[]),p=(0,c.useCallback)((o=o)=>e?.clean(o),[]);return(0,c.useEffect)(()=>{e?.subscribe(r,o=>t(o))},[]),[n,i,a,p]},tt=me(),cr=Fe(tt),ar=ee(),ur=ee(),ir="push-emitter",lr="replace-emitter",fr="useRoute-emitter",he={delay:8e3,timeoutMsg:"\u8BF7\u6C42\u8D85\u65F6\uFF01",cancelMsg:"\u8BF7\u6C42\u5DF2\u53D6\u6D88\uFF01"},ge="/404",rt={getState:()=>history.state,go:e=>history.go(e),forward:()=>history.forward(),back:()=>history.back()},Ie=(e,r,s,n,t=[])=>{const i=o=>{for(let m=0,u=o.length;m<u;m++){const b=o[m],A=b[n].split("?")[0];if(new RegExp("^"+A.replace(/:[^/]+/g,"[^/]+")+"$").test(r)&&!b.childSameRouteLevel)return b;if(f(b[s])){const E=i(b[s]);if(E)return E}}},a=i(e);if(!a)return ge;const{redirect:p}=a;return p?K(p)?p:t.includes(p)?t:(t.push(p),Ie(e,p.split("?")[0],s,n,t)):t[t.length-1]},nt=(e,r,s,n,t)=>{if(!f(e))return null;const i=u=>{const b=u.split("/"),A=r.split("/"),v={};return b.map((E,F)=>E.indexOf(":")===0&&(v[E.slice(1)]=A[F])),v},a=(u,b)=>{const A=[],v=b.split("/:")[0];for(let E=0,F=u.length;E<F;E++){const C=u[E];if(C[t]===v){C.active=!0;const{name:y,title:P,icon:T,params:$}=C;A.push({name:y,title:P,icon:T,params:$,[t]:v})}else if(b.indexOf(`${C[t]}/`)===0){C.active=!0;const y=i(C[t]),P=Object.keys(y).map(V=>y[V]).join("/"),{name:T,title:$,icon:j}=C,N=P?`${v}/${P}`:C[t];A.push({name:T,title:$,icon:j,[t]:N,params:{...C.params,...y}})}else if(C[t]===b){C.active=!0;const y=i(C[t]),{[n]:P,...T}=C;A.push({...T,[t]:r,params:{...T.params,...s,...y}})}}return A},p=(u,b)=>{for(let A=0,v=u.length;A<v;A++){const E=u[A];if(b.indexOf(`${E[t]}/`)===0){E.active=!0;return}}},o=u=>{for(let b=0,A=u.length;b<A;b++){const v=u[b],E=(v[t]||"").split("?")[0];if(E===r){if(v.childSameRouteLevel){v.active=!0,v.open=!0;const{[n]:P,...T}=v;return[T,...o(v[n])]}v.hideMenu&&p(u,v.parentPath||E),v.active=!0;const{[n]:C,...y}=v;return[{...y,params:{...y.params,...s}}]}if(new RegExp("^"+E.replace(/:[^/]+/g,"[^/]+")+"$").test(r))return a(u,E);if(f(v[n])){const C=o(v[n]);if(C){v.active=!0,v.open=!0;const{[n]:y,...P}=v;return[P,...C]}}}},m=o(e)||[];return{result:e,current:m}},$e=(e,r,s)=>e.filter(n=>n.hideMenu||n[s].indexOf("/:")>-1?!1:(f(n[r])&&(n[r]=$e(n[r],r,s)),!0)),st=(e,r,s,n="children",t="path")=>{const i=Ie(e,r,n,t);if(i)return{redirect:i};const{result:a,current:p}=nt(e,r,s,n,t),o=$e(a,n,t);return{current:p,menu:o}},Te=e=>f(e)&&!!e.length,ve=(e,r)=>{const s=["#/","/"],n=s[!!r-0];if(!e||s.includes(e))return n;const t=e.charAt(e.length-1)==="/"?e.slice(0,-1):e;return r||t.indexOf("#/")>-1?t:`#${t}`},te=(e,r,s,n=!1)=>{const t=ve(r,s);return n?t:s?e&&t==="/"?e:`${e}${t}`:e?`${e}/${t}`:t},ot=(e,r,s,n,t,i)=>{if(!Te(e))return e;const a=(p,o="",m=0)=>p.filter(u=>!u.denied).map(u=>{if(!i&&!u.exact&&!K(u[n])){(!u[n]||u[n]==="javascript:;")&&(u[n]="");const b=u[n].charAt(0)==="/"&&o.charAt(o.length-1)==="/"?u[n].slice(1):u[n].charAt(0)!=="/"&&o.charAt(o.length-1)!=="/"?`/${u[n]}`:u[n];u[n]=o?o+b:te(t,b,r)}if(u.redirect&&!K(u.redirect)&&(u.redirect=te(t,u.redirect,r)),Te(u[s])&&(u[s]=a(u[s],u[n],m+1),!u.redirect)){const b=u[s].findIndex(A=>A[n]===u[n]);b&&(u.redirect=u[s][0][n]),b>-1&&(u.childSameRouteLevel=m+1)}return u});return a(e)},De=e=>{if(!l(e))return"";const r=[];return Object.keys(e).map((s,n)=>{const t=n>0?"&":"?";r.push(`${t}${s}=${e[s]}`)}),r.join("")},ye=(e="")=>{const[r,s]=e.split("?");if(s){const n={};return s.split("&").map(i=>{const[a,p]=i.split("=");n[a]=p}),{path:r,params:n}}return{path:r}},ct=()=>{document.documentElement.scrollTop?document.documentElement.scrollTop=0:document.body.scrollTop&&(document.body.scrollTop=0)},at=(e,r,s={})=>{const n=s.description??"";for(let t=e.length-1,i;i=e[t--];){const{title:a,name:p}=i;if(typeof a=="string"&&a.length)return document.title=a,document.getElementsByTagName("meta").description.content=`${n??""}${a}`,a;if((a==null||a===!0)&&p){const o=r?`${p}-${r}`:p;return document.title=o,document.getElementsByTagName("meta").description.content=`${n??""}${o}`,o}if(r)return document.title=r,document.getElementsByTagName("meta").description.content=`${n??""}${r}`,r}},ut=e=>{const{pathname:r,search:s,hash:n}=location;if(e){const o=ve(r,e),m=decodeURIComponent(`${o}${s}`),{params:u}=ye(m);return{path:m,params:u}}const t=decodeURIComponent(ve(n,e)),{params:i}=ye(t),a=ke(r);return{path:a?`${a}/${t}`:t,params:i}},be=(e,r,s)=>{typeof e=="function"&&e({...r,stay:new Date-s})},Be=(e,r,s,n)=>{let t=typeof e=="string"?e:e.path??"";const i=De(e.query);K(t)||(t=te(s,t,n,e.exact)),window?.open(`${t}${i}`,r)},it=(e,r,s,n)=>{if(e.target||K(e.path)){Be(e,e.target,r,s);return}let t,i,a;if(typeof e=="string")t=e;else if(l(e))t=e.path,i=e.params,a=e.query;else return;!t||t==="."||t==="./"?t=n:t.indexOf("./")===0?t=`${n.split("?")[0]}${t.replace("./","/")}`:t.indexOf("../")===0&&(t=`${n.split("?")[0].split("/").slice(0,-1).join("/")}${t.replace("../","/")}`),t=te(r,t,s,e?.exact);const p=ye(t);t=p.path;const o={...p.params,...a},m=De(o);return t=`${t}${m}`,i={...i,...o},t===n?!1:{path:t,params:i}},Le=(e,r)=>{const s=e.split(r);return s.length>1?["","/"].includes(s[1].slice(0,1)):!1},lt=ee(),je=e=>{const{on:r,emit:s,off:n}=lt;return{on:t=>r(e,t),emit:t=>s(e,t),off:t=>n(e,t)}},ft=e=>(r,s)=>{const{getState:n,setState:t,subscribe:i,unsubscribe:a,clean:p}=e;return s!==void 0&&t({[r]:s},!0),{getState:()=>n(r),setState:(o,m)=>t({[r]:o},m),subscribe:o=>i(r,o),unsubscribe:()=>a(r),clean:()=>p(r)}},pt=me(),dt=ft(pt),Ce=je("push-emitter"),Ne=je("replace-emitter"),q=dt("route-store"),_t=ee(),Ue=me(),mt=Fe(Ue),ht=()=>![typeof window,typeof document].includes("undefined"),gt=e=>{if(!ht())return;const r=document.createElement("div");return r.innerHTML=e,r.children[0]};class vt extends c.default.Component{state={error:null};static getDerivedStateFromError(r){return{error:r}}componentDidCatch(r,s){const{errorReport:n}=this.props;typeof n=="function"&&n({error:r,info:s.componentStack})}render(){const{error:r}=this.state,{fallback:s,children:n}=this.props;return r?s?.(r)??r:n}}const yt=({children:e,report:r})=>{const s=(0,c.useRef)();return s.current?.state&&(s.current.state.error=null),(0,B.jsx)(vt,{ref:s,fallback:(n,t)=>ce({error:n,info:t}),errorReport:r,children:e})};var bt=w(591),We=w.n(bt),Ct=w(740),He=w.n(Ct),Et=w(128),Ve=w.n(Et),Rt=w(855),qe=w.n(Rt),St=w(51),Je=w.n(St),At=w(656),Xe=w.n(At),ae=w(670),Y={};Y.styleTagTransform=Xe(),Y.setAttributes=qe(),Y.insert=Ve().bind(null,"head"),Y.domAPI=He(),Y.insertStyleElement=Je();var Er=We()(ae.A,Y);const Rr=ae.A&&ae.A.locals?ae.A.locals:void 0,xt=({global:e,absolute:r})=>(0,B.jsx)("div",{className:`spinner${e?" global":""}${r?" absolute":""}`,children:(0,B.jsx)("figure",{className:"spinning"})}),Pt=()=>{const e=(0,c.useRef)([]);return(0,c.useEffect)(()=>()=>{e.current.map(s=>s.cancelFn()),e.current=[]},[]),{cancelablePromise:(0,c.useCallback)((s,n=!0)=>{const t=Oe(s,n);return e.current.indexOf(t)===-1&&e.current.push(t),t.promiseFn},[])}},Ye=(e={})=>{const{cancelablePromise:r}=Pt(),[s,n]=(0,c.useState)(e),t=(0,c.useRef)({}),i=(0,c.useRef)({}),a=(0,c.useCallback)((o=null)=>{Array.isArray(o)&&o.length?o.map(m=>t.current[m]=e[m]):t.current=e},[]),p=(0,c.useCallback)((o,m,u=!1)=>{const b=Object.keys(o),A=JSON.stringify(b.sort());if(!i.current[A]){i.current[A]=!0,u&&a(Array.isArray(u)?u:b),b.map(v=>{t.current[v]||(t.current[v]={}),t.current[v].pending=!0}),n({...t.current});for(let v=0,E=b.length;v<E;v++){const F=b[v];r(o[F]).then(C=>{let{result:y,errMsg:P}=C;v===E-1&&(i.current[A]=!1),typeof m=="function"&&(y=m(y)||y),t.current[F]={...y,pending:!1},P===!1&&n({...t.current})}).catch(C=>{throw v===E-1&&(i.current[A]=!1),t.current[F]={error:C,pending:!1},n({...t.current}),C})}}},[]);return[s,p,a]},ue=e=>Object.keys(e).length,wt=e=>{const{Comp:r,restResolve:s,loadPromise:n,params:t,children:i}=e,[a,p]=Ye(),[o,m]=Ye();return(0,c.useEffect)(()=>{ue(s)&&p(s),ue(n)&&m(n)},[s,n]),(0,c.useEffect)(()=>{const u=ue(a);u&&u===ue(s)&&t.store.setState(a)},[a]),(0,B.jsx)(r,{...t,...a,...o,children:i})},Ot=e=>e===!1?null:k(e)?e:L(e)?(0,B.jsx)(e,{}):(0,B.jsx)(xt,{}),kt=({Loading:e,ErrorBoundary:r,loadedComp:s})=>{const n=(0,B.jsx)(c.Suspense,{fallback:Ot(e),children:s});return r===!1?n:L(r)?(0,B.jsx)(r,{children:n}):(0,B.jsx)(yt,{children:n})},ze=({Comp:e,routerProps:r,children:s})=>{const{params:n,...t}=r,{loading:i,errorBoundary:a,...p}=n,o=(0,B.jsx)(wt,{Comp:e,...t,params:p,children:s});return kt({Loading:i,ErrorBoundary:a,loadedComp:o})},Ee={},Re=(e,r,s,n)=>Z(s)?s.then(t=>ze({Comp:e,routerProps:r,children:t.default??t})):ze({Comp:e,routerProps:r,children:s}),Mt=(e,r,s)=>{const n={},t={};return l(e)?(Object.keys(e).map(i=>{const a=r.getState(i);a==null?t[i]=e[i](s):n[i]=a}),{cachedResolve:n,restResolve:t}):{cachedResolve:n,restResolve:t}},Ft=(e,r)=>{if(!l(e))return{};const s={};return Object.keys(e).map(n=>s[n]=e[n](r)),s},It=e=>{const{current:r,menu:s,...n}=e,t=r.map(p=>{const{component:o,resolve:m,loadData:u,loading:b,errorBoundary:A,icon:v,...E}=p;return E}),i=[...r].filter(p=>p.component),a=(p=0)=>{if(!i.length)return null;const o=i.shift(),{component:m,resolve:u,loadData:b,icon:A,key:v,...E}=o;if(typeof m=="function"||Z(m)){const F=`${E.path}${E.childSameRouteLevel??""}`;let C=Ee[F];const{cachedResolve:y,restResolve:P}=Mt(u,n.store,E),$={loadPromise:Ft(b,E),restResolve:P,params:{current:t,...n,...E,...y}},j=a(p+1);if(C)return Re(C,$,j,F);try{C=m(),C=k(C)?m:C}catch{C=m}return Z(C)?C.then(N=>(C=N.default??N,Ee[F]=C,Re(C,$,j,F))):(Ee[F]=C,Re(C,$,j,F))}return typeof m=="string"?gt(m):m};return a()},$t=e=>{const[r,s]=(0,c.useState)(e),[n,t]=(0,c.useState)(),[i,a]=(0,c.useState)(),p=(0,c.useRef)(),o=(0,c.useRef)(),m=(0,c.useRef)(),u=(0,c.useRef)(),b=()=>{typeof p.current=="function"&&(p.current({cancel:he.cancelMsg}),p.current=null)},A=(0,c.useCallback)(y=>{typeof y=="function"?s(P=>({...P,...y(P)})):l(y)&&s(P=>({...P,...y}))},[]),v=(y,P="pushState")=>{const{basepath:T,browserRouter:$}=u.current,j=m.current,N=it(y,T,$,j);if(!N)return;const{path:V,params:G}=N;C({inputPath:V,inputParams:G},()=>history[P](y?.state,"",V))},E=(0,c.useCallback)(y=>v(y),[]),F=(0,c.useCallback)(y=>v(y,"replaceState"),[]),C=(0,c.useCallback)(({inputPath:y="",inputParams:P={}},T)=>{const $=+new Date,{browserRouter:j,childKey:N,idKey:V,title:G,metas:le,routers:fe,beforeRender:re,afterRender:ne,basepath:se,allowedNotFound:H,...Ut}=u.current;if(!y){const{path:U,params:J}=ut(j);y=U,P={...P,...J}}const Ae=m.current;new Promise((U,J)=>{fe?.length||J("\u8DEF\u7531\u4E3A\u7A7A\uFF01"),y!==m.current&&typeof re=="function"?re({path:y,params:P,prevPath:Ae},U,J):U()}).then(U=>{if(U===!1)return;const J=U?.path;if(J&&te(se,J,j)!==y){F(U);return}o.current=o.current??y;const{redirect:X,current:oe,menu:Wt}=st(O(fe),y.split("?")[0],P,N,V);if(X){if(H&&X===ge&&(typeof H=="boolean"||typeof H=="string"&&Le(o.current,H)||f(H)&&H.find(Pe=>Le(o.current,Pe))))return;if(f(X)){console.error(`\u522B\u95F9\uFF0C[${[y,...X].join(" -> ")}] \u91CD\u5B9A\u5411\u6B7B\u5FAA\u73AF\uFF01\uFF01\uFF01`);return}return X===ge?F({path:X}):E({path:X,exact:!0})}T?.(),y?.split("?")[0]!==m.current?.split("?")[0]&&ct(),at(oe,G,le);const Ge={eventBus:_t,store:Ue,useStore:mt,...Ut,updateRouter:A,emitRouter:q.subscribe,router:{push:E,replace:F},current:oe,menu:Wt,inputPath:o.current,prevPath:Ae,browserRouter:j,basepath:se,title:G,history:{...rt,goBack:pe=>E({...pe,path:Ae})}};q.setState(Ge);const xe=It(Ge);if(m.current=y,o.current=null,b(),Z(xe)){const{promiseFn:pe,cancelFn:Pe}=Oe(xe,{delay:he.delay,msg:{timeout:he.timeoutMsg}});return p.current=Pe,a(!0),pe.then(de=>{p.current=null;const{result:Ht,errMsg:we}=de,Qe=we===!1?Ht:we?.timeout?ce({error:{errMsg:`${y} ${we.timeout}`}}):null;Qe&&(a(!1),be(ne,oe.slice(-1)[0],$),t(Qe))}).catch(de=>{throw p.current=null,a(!1),be(ne,oe.slice(-1)[0],$),t(ce({error:de})),de})}be(ne,oe.slice(-1)[0],$),t(xe)}).catch(U=>{throw t(ce({error:U})),U})},[]);return(0,c.useEffect)(()=>{const y={description:document.getElementsByTagName("meta").description.content??""},{childKey:P="children",idKey:T="path",browserRouter:$=!1,routers:j=[],basepath:N="",exact:V=!1,inputPath:G="",inputParams:le={},...fe}=r,re=ke(N),ne=ot(O(j),$,P,T,re,V);u.current={...fe,childKey:P,idKey:T,browserRouter:$,routers:ne,basepath:re,metas:y};const se=$?"popstate":"hashchange",H=()=>C({});return C({inputPath:G,inputParams:le}),Ce.on(E),Ne.on(F),window.addEventListener(se,H,!1),()=>{b(),Ce.off(E),Ne.off(F),window.removeEventListener(se,H,!1)}},[r]),{updateRouter:A,output:n,loading:i}},Tt=e=>{const{to:r,onClick:s,preventDefault:n,stopPropagation:t=!0,exact:i=!0,target:a,...p}=e,o=()=>{const u=typeof r=="string"?{exact:i,path:r}:{exact:i,...r};Ce.emit(u)};return u=>{if(u.preventDefault(),t&&u.stopPropagation(),!p?.disabled){if(!n){if(a){const{browserRouter:b,basepath:A}=q.getState();Be(r,a,A,b);return}o()}typeof s=="function"&&s()}}};var ie=w(845),z={};z.styleTagTransform=Xe(),z.setAttributes=qe(),z.insert=Ve().bind(null,"head"),z.domAPI=He(),z.insertStyleElement=Je();var Fr=We()(ie.A,z);const Se=ie.A&&ie.A.locals?ie.A.locals:void 0,Dt=e=>{if(!e)return Se.link;const r=e.trim().split(" ").filter(Boolean),n=r.find(t=>t==="active")?[Se.active]:[];return[Se.link,...n,...r].join(" ")},Bt=e=>{const{to:r,onClick:s,preventDefault:n,stopPropagation:t,exact:i,target:a,className:p,...o}=e;return(0,B.jsx)("span",{onClick:Tt(e),className:Dt(p),...o})},Lt=()=>{const[e,r]=(0,c.useState)(q.getState());return(0,c.useEffect)(()=>q.subscribe(s=>r(s)),[]),e},jt=q.getState,Nt=q.subscribe})();var Jt=Q.N_,Xt=Q.vY,Yt=Q.aM,zt=Q.lq,Gt=Q.rd;export{Jt as Link,Xt as emitRoute,Yt as getRoute,zt as useRoute,Gt as useRouter};
